import{a as p,S as f,i as n}from"./assets/vendor-DjDxajEQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();async function g(s,t){const r="https://pixabay.com/api/",o="46223042-6ba9b86e05f43857f202d81f8";try{return(await p.get(r,{params:{key:o,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}catch(e){iziToast.error({position:"topRight",message:`${e}`})}}const y=new f(".gallery-list a",{captions:!0,captionsData:"alt",captionDelay:250});function v(s){const t=document.querySelector(".gallery-list");let r=s.hits.map(o=>`<div class="image-frame"><a href="${o.largeImageURL}"><img class="image" src="${o.webformatURL}" alt="${o.tags}" /></a><div class ="text-wraper"><div class="text-block"><h5>likes</h5><p>${o.likes}</p></div><div class="text-block"><h5>views</h5><p>${o.views}</p></div><div class="text-block"><h5>comments</h5><p>${o.comments}</p></div><div class="text-block"><h5>downloads</h5><p>${o.downloads}</p></div></div></div>`).join("");t.insertAdjacentHTML("beforeend",r),y.refresh()}function L(){const s=document.querySelector(".gallery-list");s.innerHTML=""}function b(){const t=document.querySelector(".gallery-list").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}const w=document.querySelector(".gallery-form"),S=document.querySelector(".input-for-gallery"),a=document.querySelector(".loader"),c=document.querySelector(".load"),u=document.querySelector(".bottom");let l=1,m="";w.addEventListener("submit",q);c.addEventListener("click",x);function q(s){s.preventDefault(),L(),a.classList.remove("hiden"),u.classList.remove("show-text");let t=S.value.trim();if(m=t,l=1,t===""){n.error({position:"topRight",message:"Please fill the input"}),a.classList.add("hiden");return}h(t,l)}function x(s){l+=1,a.classList.remove("hiden"),c.classList.add("hiden"),h(m,l)}function h(s,t){g(s,t).then(r=>{if(r.total===0&&t===1){n.error({position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),a.classList.add("hiden");return}v(r),r.hits.length<15?(c.classList.add("hiden"),u.classList.add("show-text"),n.info({position:"topRight",message:"We're sorry, but you've reached the end of search results."})):c.classList.remove("hiden"),b(),a.classList.add("hiden")}).catch(r=>{n.error({position:"topRight",message:r.message}),a.classList.add("hiden")})}
//# sourceMappingURL=index.js.map
